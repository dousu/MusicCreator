webpackJsonp([1],{"7fhz":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("BO1k"),i=n.n(r),s=n("d7EF"),c=n.n(s),o=n("ifoU"),d=n.n(o),l=n("Xxa5"),u=n.n(l),m=n("exGp"),f=n.n(m),v=(n("xDrO"),n("15KZ")),h=n.n(v),_={mounted:function(){var t=f()(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./static/index.json").then(function(t){return t.json()}).then(function(t){e.allrefdata=t});case 2:this.abcdata=this.allrefdata[this.refloc],this.editingdata=this.tune;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),name:"hello",data:function(){return{abcdata:"",editingdata:"",creationdata:"",progress:{},currentAbcFragment:"(none)",tune:"X:1\nT:Phrase Editor\nM:4/4\nL:1/8\nQ:100\nK:C\n",allrefdata:[],refloc:0,old_creation:[],lastelem:"",lastscore:""}},watch:{abcdata:function(){document.getElementById("abc-source").value=this.abcdata,new h.a.Editor("abc-source",{paper_id:"paper",staffwidth:740,generate_midi:!0,midi_id:"midi",midi_download_id:"midi-download",abcjsParams:{generateDownload:!0,clickListener:this.selectionCallback,midiListener:this.listener,animate:{listener:this.animate}}})},editingdata:function(){document.getElementById("abc-phrase").value=this.editingdata,new h.a.Editor("abc-phrase",{paper_id:"paper-phrase",staffwidth:740,generate_midi:!0,midi_id:"midi-phrase",midi_download_id:"midi-download-phrase",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})},creationdata:function(){document.getElementById("abc-creation").value=this.creationdata,new h.a.Editor("abc-creation",{paper_id:"paper-creation",staffwidth:740,generate_midi:!0,midi_id:"midi-creation",midi_download_id:"midi-download-creation",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})}},methods:{listener:function(t,e){this.progress=e},colorRange:function(t,e){t&&t.elements&&t.elements.forEach(function(t){t.forEach(function(t){t.setAttribute("fill",e)})})},animate:function(t,e){this.colorRange(t,"#000000"),this.colorRange(e,"#3D9AFC")},selectionCallback:function(t){var e=this;return f()(u.a.mark(function n(){var a,r,i,s,c,o;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.elemContinuty(t);case 2:if(!((a=n.sent)>0)){n.next=21;break}return e.soundClick(),console.log(a),r=document.getElementById("abc-source").value,i=r.slice(t.startChar,t.endChar),n.next=10,e.get_info(r,t.startChar);case 10:return s=n.sent,c=document.getElementById("abc-phrase").value,n.next=14,e.get_info(c,c.length);case 14:return o=n.sent,n.next=17,e.phrase_set_info(s,o);case 17:e.editingdata=document.getElementById("abc-phrase").value+i,document.getElementById("editing-alert").innerHTML="<em>Success</em>",n.next=23;break;case 21:e.soundFailed(),document.getElementById("editing-alert").innerHTML="Failed<br>Please select a consecutive note.";case 23:case"end":return n.stop()}},n,e)}))()},get_info:function(t,e){function n(t){return t.slice(0,t.search(/[\n\]]/))}var a=new d.a,r=t.slice(0,e),i=r.slice(r.lastIndexOf("M:"));a.set("M",n(i));var s=r.slice(r.lastIndexOf("L:"));a.set("L",n(s));var c=r.slice(r.lastIndexOf("Q:"));a.set("Q",n(c));var o=r.slice(r.lastIndexOf("K:"));a.set("K",n(o));var l=r.slice(r.lastIndexOf("T:"));return a.set("T",n(l)),a},phrase_set_info:function(t,e){var n=document.getElementById("abc-phrase").value;if(n.lastIndexOf("\n")!==n.length-1){var a=!0,r=!1,s=void 0;try{for(var o,d=i()(t);!(a=(o=d.next()).done);a=!0){var l=o.value,u=c()(l,2),m=u[0],f=u[1];"T"!==m&&f!==e.get(m)&&(document.getElementById("abc-phrase").value+="["+t.get(m)+"]")}}catch(t){r=!0,s=t}finally{try{!a&&d.return&&d.return()}finally{if(r)throw s}}}else{var v=!0,h=!1,_=void 0;try{for(var p,g=i()(t);!(v=(p=g.next()).done);v=!0){var b=p.value,y=c()(b,2);m=y[0],f=y[1];"T"!==m&&f!==e.get(m)&&(document.getElementById("abc-phrase").value=document.getElementById("abc-phrase").value.replace(e.get(m),f))}}catch(t){h=!0,_=t}finally{try{!v&&g.return&&g.return()}finally{if(h)throw _}}}},clear_phrase:function(){this.soundClear(),this.editingdata=this.tune,this.lastelem="",this.lastscore=""},regist_phrase:function(){var t=this;return f()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.soundAdd(),document.getElementById("abc-phrase").value===t.tune){e.next=6;break}return t.old_creation.push(t.creationdata),e.next=5,t.concatenation();case 5:t.clear_phrase();case 6:case"end":return e.stop()}},e,t)}))()},clear_creation:function(){this.soundClear(),this.creationdata=""},undo_creation:function(){this.soundUndo(),this.old_creation.length>0&&(this.creationdata=this.old_creation.pop())},concatenation:function(){var t=this;return f()(u.a.mark(function e(){var n,a,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("abc-phrase").value,a=document.getElementById("abc-creation").value,e.next=4,t.get_info(n,n.indexOf("["));case 4:return r=e.sent,e.next=7,t.get_info(a,a.length);case 7:if(i=e.sent,""!==a&&a.lastIndexOf(i.get("K"))+i.get("K").length+1!==a.length){e.next=12;break}t.creationdata=n.replace(r.get("T"),"T:Music"),e.next=15;break;case 12:return e.next=14,t.creation_set_info(r,i);case 14:t.creationdata=document.getElementById("abc-creation").value+n.slice(n.indexOf(r.get("K"))+r.get("K").length+1);case 15:case"end":return e.stop()}},e,t)}))()},creation_set_info:function(t,e){var n=!0,a=!1,r=void 0;try{for(var s,o=i()(t);!(n=(s=o.next()).done);n=!0){var d=s.value,l=c()(d,2),u=l[0],m=l[1];"T"!==u&&m!==e.get(u)&&(document.getElementById("abc-creation").value+="["+t.get(u)+"]")}}catch(t){a=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}},leftbutton:function(){this.soundButton(),0===this.refloc?this.refloc=this.allrefdata.length-1:this.refloc--,this.abcdata=this.allrefdata[this.refloc]},rightbutton:function(){this.soundButton(),this.refloc===this.allrefdata.length-1?this.refloc=0:this.refloc++,this.abcdata=this.allrefdata[this.refloc]},elemContinuty:function(t){var e=this;return f()(u.a.mark(function n(){var a,r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=function(){console.log(e.abcdata),console.log(e.lastelem),console.log(t.startChar);var n=document.getElementById("abc-source").value.slice(e.lastelem,t.startChar);return console.log(n),console.log(n.slice(n.search("]")+1,n.length)),n.slice(n.search("]")+1,n.length).search(/([A-Za-z])/)},""===e.lastelem||!(e.lastscore!==e.refloc||e.lastelem>t.startChar)){n.next=5;break}return n.abrupt("return",-1);case 5:if(""===e.lastelem){n.next=14;break}return n.next=8,a();case 8:return-1===(r=n.sent)&&(e.lastelem=t.endChar,e.lastscore=e.refloc),0===r&&r++,n.abrupt("return",-1*r);case 14:return e.lastelem=t.endChar,e.lastscore=e.refloc,n.abrupt("return",1);case 17:case"end":return n.stop()}},n,e)}))()},soundClick:function(){var t="sound-file-click";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundClear:function(){var t="sound-file-clear";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundAdd:function(){var t="sound-file-add";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundUndo:function(){var t="sound-file-undo";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundButton:function(){var t="sound-file-button";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundFailed:function(){var t="sound-file-failed";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"musiccreater"},[n("textarea",{attrs:{id:"abc-source"}}),t._v(" "),n("textarea",{attrs:{id:"abc-phrase"}}),t._v(" "),n("textarea",{attrs:{id:"abc-creation"}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("h1",{staticClass:"text-center"},[t._v("\n      Music Creator\n    ")]),t._v(" "),t._m(6),t._v(" "),n("div",{attrs:{id:"play-info"}},[n("div",{staticClass:"listener-output"},[n("div",{staticClass:"label"},[t._v("Currently Playing: "),n("span",{staticClass:"abc-string"},[t._v(t._s(t.currentAbcFragment))])]),t._v(" "),n("div",{staticClass:"label"},[t._v("Parameters sent to listener callback: ")]),t._v(" "),n("div",[t._v("Progress: "+t._s(t.progress.progress))]),t._v(" "),n("div",[t._v("Current Time: "+t._s(t.progress.currentTime))]),t._v(" "),n("div",[t._v("Total Duration: "+t._s(t.progress.duration))]),t._v(" "),n("div",[t._v("New Beat? "+t._s(t.progress.newBeat))])])]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"refer-abc"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Score Viewer\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"direction",on:{click:t.leftbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),t._v(" "),n("button",{staticClass:"direction",on:{click:t.rightbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)]),t._v(" "),t._m(7),t._v(" "),n("div",{attrs:{id:"midi"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download"}})]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"editing"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Phrase Editor\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"modifier",on:{click:t.clear_phrase}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),t._v(" clear\n        ")],1),t._v(" "),n("button",{staticClass:"modifier",on:{click:t.regist_phrase}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" add\n        ")],1),t._v(" "),n("div",{staticClass:"note",attrs:{id:"editing-alert"}})]),t._v(" "),t._m(8),t._v(" "),n("div",{attrs:{id:"midi-phrase"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download-phrase"}})]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"creation"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Music\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"modifier",on:{click:t.clear_creation}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),t._v(" clear\n        ")],1),t._v(" "),n("button",{staticClass:"modifier",on:{click:t.undo_creation}},[n("font-awesome-icon",{attrs:{icon:"undo"}}),t._v(" undo\n        ")],1)]),t._v(" "),t._m(9),t._v(" "),n("div",{attrs:{id:"midi-creation"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download-creation"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-click",preload:"auto"}},[e("source",{attrs:{src:"static/sound/click/nc112322.wav",type:"audio/wav"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-clear",preload:"auto"}},[e("source",{attrs:{src:"static/sound/clear/nc78407.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-add",preload:"auto"}},[e("source",{attrs:{src:"static/sound/add/nc44409.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-undo",preload:"auto"}},[e("source",{attrs:{src:"static/sound/undo/nc78408.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-button",preload:"auto"}},[e("source",{attrs:{src:"static/sound/button/nc167288.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-failed",preload:"auto"}},[e("source",{attrs:{src:"static/sound/failed/nc45878.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center h3"},[e("br"),this._v(" Please select consecutive notes on scores to make a new score.\n      "),e("br"),this._v(' Push "Add" button to add "Phrase Editor" to your "Music". \n    ')])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scorecontainer"},[e("div",{attrs:{id:"paper"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scorecontainer"},[e("div",{attrs:{id:"paper-phrase"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"music"},[e("div",{attrs:{id:"paper-creation"}})])}]};var g={name:"App",components:{HelloWorld:n("VU/8")(_,p,!1,function(t){n("7fhz")},null,null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},staticRenderFns:[]};var y=n("VU/8")(g,b,!1,function(t){n("jIfA")},null,null).exports,x=n("C/JF"),E=n("fhbW"),C=n("1e6/");x.c.add(E.d,E.c,E.e,E.b,E.a),a.a.component("font-awesome-icon",C.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:y},template:"<App/>"})},jIfA:function(t,e){},xDrO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0eda74d4532e58dd97d5.js.map