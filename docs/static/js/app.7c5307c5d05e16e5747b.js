webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r=n("BO1k"),i=n.n(r),s=n("d7EF"),o=n.n(s),c=n("ifoU"),d=n.n(c),l=n("Xxa5"),u=n.n(l),m=n("exGp"),f=n.n(m),v=(n("e0XP"),n("xDrO"),n("15KZ")),h=n.n(v),_={mounted:function(){var e=f()(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./static/index.json").then(function(e){return e.json()}).then(function(e){t.allrefdata=e});case 2:this.abcdata=this.allrefdata[this.refloc],this.editingdata=this.tune;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),name:"hello",data:function(){return{abcdata:"",editingdata:"",creationdata:"",progress:{},currentAbcFragment:"(none)",tune:"X:1\nT:Phrase Editor\nM:4/4\nL:1/8\nQ:100\nK:C\n",allrefdata:[],refloc:0,old_creation:[],lastelem:"",lastscore:""}},watch:{abcdata:function(){document.getElementById("abc-source").value=this.abcdata,new h.a.Editor("abc-source",{paper_id:"paper",staffwidth:740,generate_midi:!0,midi_id:"midi",midi_download_id:"midi-download",abcjsParams:{generateDownload:!0,clickListener:this.selectionCallback,midiListener:this.listener,animate:{listener:this.animate}}})},editingdata:function(){document.getElementById("abc-phrase").value=this.editingdata,new h.a.Editor("abc-phrase",{paper_id:"paper-phrase",staffwidth:740,generate_midi:!0,midi_id:"midi-phrase",midi_download_id:"midi-download-phrase",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})},creationdata:function(){document.getElementById("abc-creation").value=this.creationdata,new h.a.Editor("abc-creation",{paper_id:"paper-creation",staffwidth:740,generate_midi:!0,midi_id:"midi-creation",midi_download_id:"midi-download-creation",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})}},methods:{listener:function(e,t){this.progress=t},colorRange:function(e,t){e&&e.elements&&e.elements.forEach(function(e){e.forEach(function(e){e.setAttribute("fill",t)})})},animate:function(e,t){this.colorRange(e,"#000000"),this.colorRange(t,"#3D9AFC")},selectionCallback:function(e){var t=this;return f()(u.a.mark(function n(){var a,r,i,s,o,c;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.elemContinuty(e);case 2:if(!((a=n.sent)>0)){n.next=21;break}return t.soundClick(),console.log(a),r=document.getElementById("abc-source").value,i=r.slice(e.startChar,e.endChar),n.next=10,t.get_info(r,e.startChar);case 10:return s=n.sent,o=document.getElementById("abc-phrase").value,n.next=14,t.get_info(o,o.length);case 14:return c=n.sent,n.next=17,t.phrase_set_info(s,c);case 17:t.editingdata=document.getElementById("abc-phrase").value+i,document.getElementById("editing-alert").innerHTML="<em>Success</em>",n.next=23;break;case 21:t.soundFailed(),document.getElementById("editing-alert").innerHTML="Failed<br>Please select a consecutive note.";case 23:case"end":return n.stop()}},n,t)}))()},get_info:function(e,t){function n(e){return e.slice(0,e.search(/[\n\]]/))}var a=new d.a,r=e.slice(0,t),i=r.slice(r.lastIndexOf("M:"));a.set("M",n(i));var s=r.slice(r.lastIndexOf("L:"));a.set("L",n(s));var o=r.slice(r.lastIndexOf("Q:"));a.set("Q",n(o));var c=r.slice(r.lastIndexOf("K:"));a.set("K",n(c));var l=r.slice(r.lastIndexOf("T:"));return a.set("T",n(l)),a},phrase_set_info:function(e,t){var n=document.getElementById("abc-phrase").value;if(n.lastIndexOf("\n")!==n.length-1){var a=!0,r=!1,s=void 0;try{for(var c,d=i()(e);!(a=(c=d.next()).done);a=!0){var l=c.value,u=o()(l,2),m=u[0],f=u[1];"T"!==m&&f!==t.get(m)&&(document.getElementById("abc-phrase").value+="["+e.get(m)+"]")}}catch(e){r=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw s}}}else{var v=!0,h=!1,_=void 0;try{for(var p,g=i()(e);!(v=(p=g.next()).done);v=!0){var b=p.value,y=o()(b,2);m=y[0],f=y[1];"T"!==m&&f!==t.get(m)&&(document.getElementById("abc-phrase").value=document.getElementById("abc-phrase").value.replace(t.get(m),f))}}catch(e){h=!0,_=e}finally{try{!v&&g.return&&g.return()}finally{if(h)throw _}}}},clear_phrase:function(){this.soundClear(),this.editingdata=this.tune,this.lastelem="",this.lastscore=""},regist_phrase:function(){var e=this;return f()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.soundAdd(),document.getElementById("abc-phrase").value===e.tune){t.next=6;break}return e.old_creation.push(e.creationdata),t.next=5,e.concatenation();case 5:e.clear_phrase();case 6:case"end":return t.stop()}},t,e)}))()},clear_creation:function(){this.soundClear(),this.creationdata=""},undo_creation:function(){this.soundUndo(),this.old_creation.length>0&&(this.creationdata=this.old_creation.pop())},concatenation:function(){var e=this;return f()(u.a.mark(function t(){var n,a,r,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("abc-phrase").value,a=document.getElementById("abc-creation").value,t.next=4,e.get_info(n,n.indexOf("["));case 4:return r=t.sent,t.next=7,e.get_info(a,a.length);case 7:if(i=t.sent,""!==a&&a.lastIndexOf(i.get("K"))+i.get("K").length+1!==a.length){t.next=12;break}e.creationdata=n.replace(r.get("T"),"T:Music"),t.next=15;break;case 12:return t.next=14,e.creation_set_info(r,i);case 14:e.creationdata=document.getElementById("abc-creation").value+n.slice(n.indexOf(r.get("K"))+r.get("K").length+1);case 15:case"end":return t.stop()}},t,e)}))()},creation_set_info:function(e,t){var n=!0,a=!1,r=void 0;try{for(var s,c=i()(e);!(n=(s=c.next()).done);n=!0){var d=s.value,l=o()(d,2),u=l[0],m=l[1];"T"!==u&&m!==t.get(u)&&(document.getElementById("abc-creation").value+="["+e.get(u)+"]")}}catch(e){a=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw r}}},leftbutton:function(){this.soundButton(),0===this.refloc?this.refloc=this.allrefdata.length-1:this.refloc--,this.abcdata=this.allrefdata[this.refloc]},rightbutton:function(){this.soundButton(),this.refloc===this.allrefdata.length-1?this.refloc=0:this.refloc++,this.abcdata=this.allrefdata[this.refloc]},elemContinuty:function(e){var t=this;return f()(u.a.mark(function n(){var a,r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=function(){console.log(t.abcdata),console.log(t.lastelem),console.log(e.startChar);var n=document.getElementById("abc-source").value.slice(t.lastelem,e.startChar);return console.log(n),console.log(n.slice(n.search("]")+1,n.length)),n.slice(n.search("]")+1,n.length).search(/([A-Za-z])/)},""===t.lastelem||!(t.lastscore!==t.refloc||t.lastelem>e.startChar)){n.next=5;break}return n.abrupt("return",-1);case 5:if(""===t.lastelem){n.next=14;break}return n.next=8,a();case 8:return-1===(r=n.sent)&&(t.lastelem=e.endChar,t.lastscore=t.refloc),0===r&&r++,n.abrupt("return",-1*r);case 14:return t.lastelem=e.endChar,t.lastscore=t.refloc,n.abrupt("return",1);case 17:case"end":return n.stop()}},n,t)}))()},soundClick:function(){var e="sound-file-click";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()},soundClear:function(){var e="sound-file-clear";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()},soundAdd:function(){var e="sound-file-add";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()},soundUndo:function(){var e="sound-file-undo";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()},soundButton:function(){var e="sound-file-button";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()},soundFailed:function(){var e="sound-file-failed";void 0!==document.getElementById(e).currentTime&&(document.getElementById(e).currentTime=0),document.getElementById(e).play()}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("textarea",{attrs:{id:"abc-source"}}),e._v(" "),n("textarea",{attrs:{id:"abc-phrase"}}),e._v(" "),n("textarea",{attrs:{id:"abc-creation"}}),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),n("p",[n("big",[n("font",{attrs:{size:"+5"}},[n("strong",[e._v("\n            Music Creator\n          ")])]),e._v(" "),n("br"),e._v(" Please select consecutive notes on scores to make a new score.\n        "),n("br"),e._v(' Push "Add" button to add "Phrase Editor" to your "Music". \n      ')],1)],1),e._v(" "),n("div",{attrs:{id:"play-info"}},[n("div",{staticClass:"listener-output"},[n("div",{staticClass:"label"},[e._v("Currently Playing: "),n("span",{staticClass:"abc-string"},[e._v(e._s(e.currentAbcFragment))])]),e._v(" "),n("div",{staticClass:"label"},[e._v("Parameters sent to listener callback: ")]),e._v(" "),n("div",[e._v("Progress: "+e._s(e.progress.progress))]),e._v(" "),n("div",[e._v("Current Time: "+e._s(e.progress.currentTime))]),e._v(" "),n("div",[e._v("Total Duration: "+e._s(e.progress.duration))]),e._v(" "),n("div",[e._v("New Beat? "+e._s(e.progress.newBeat))])])]),e._v(" "),n("div",{attrs:{id:"refer-abc"}},[n("strong",[e._v("\n        Score Viewer\n      ")]),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"direction",staticStyle:{"margin-left":"0px"},on:{click:e.leftbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),e._v(" "),n("button",{staticClass:"direction",on:{click:e.rightbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1),e._v(" "),e._m(6),e._v(" "),n("div",{attrs:{id:"midi"}}),e._v(" "),n("div",{attrs:{id:"midi-download"}})]),e._v(" "),n("div",{attrs:{id:"editing"}},[n("strong",[e._v("\n        Phrase Editor\n      ")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),n("button",{staticClass:"modifier",on:{click:e.clear_phrase}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" clear\n      ")],1),e._v(" "),n("button",{staticClass:"modifier",on:{click:e.regist_phrase}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" add\n      ")],1),e._v(" "),n("div",{attrs:{id:"midi-phrase"}}),e._v(" "),n("div",{attrs:{id:"midi-download-phrase"}})]),e._v(" "),n("div",{attrs:{id:"creation"}},[n("strong",[e._v("\n        Music\n      ")]),e._v(" "),e._m(9),e._v(" "),n("button",{staticClass:"modifier",on:{click:e.clear_creation}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" clear\n      ")],1),e._v(" "),n("button",{staticClass:"modifier",on:{click:e.undo_creation}},[n("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" undo\n      ")],1),e._v(" "),n("div",{attrs:{id:"midi-creation"}}),e._v(" "),n("div",{attrs:{id:"midi-download-creation"}})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-click",preload:"auto"}},[t("source",{attrs:{src:"static/sound/click/nc112322.wav",type:"audio/wav"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-clear",preload:"auto"}},[t("source",{attrs:{src:"static/sound/clear/nc78407.mp3",type:"audio/mp3"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-add",preload:"auto"}},[t("source",{attrs:{src:"static/sound/add/nc44409.mp3",type:"audio/mp3"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-undo",preload:"auto"}},[t("source",{attrs:{src:"static/sound/undo/nc78408.mp3",type:"audio/mp3"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-button",preload:"auto"}},[t("source",{attrs:{src:"static/sound/button/nc167288.mp3",type:"audio/mp3"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{attrs:{id:"sound-file-failed",preload:"auto"}},[t("source",{attrs:{src:"static/sound/failed/nc45878.mp3",type:"audio/mp3"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"paper"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"note"},[t("p",{attrs:{id:"editing-alert"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"paper-phrase"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"music"},[t("div",{attrs:{id:"paper-creation"}})])}]};var g={name:"App",components:{HelloWorld:n("VU/8")(_,p,!1,function(e){n("hrOW")},null,null).exports}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("HelloWorld")],1)},staticRenderFns:[]};var y=n("VU/8")(g,b,!1,function(e){n("UXrs")},null,null).exports,E=n("C/JF"),w=n("fhbW"),x=n("1e6/");E.c.add(w.d,w.c,w.e,w.b,w.a),a.a.component("font-awesome-icon",x.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:y},template:"<App/>"})},UXrs:function(e,t){},e0XP:function(e,t){},hrOW:function(e,t){},xDrO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7c5307c5d05e16e5747b.js.map