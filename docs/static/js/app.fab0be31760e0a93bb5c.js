webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("BO1k"),r=n.n(i),s=n("d7EF"),o=n.n(s),c=n("ifoU"),d=n.n(c),l=n("mvHQ"),u=n.n(l),m=n("Xxa5"),f=n.n(m),v=n("exGp"),h=n.n(v),_=(n("xDrO"),n("15KZ")),p=n.n(_),g={mounted:function(){var t=h()(f.a.mark(function t(){var e=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./static/index.json").then(function(t){return t.json()}).then(function(t){e.allrefdata=t});case 2:this.abcdata=this.allrefdata[this.refloc],this.editingdata=this.tune;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),name:"hello",data:function(){return{abcdata:"",editingdata:"",creationdata:"",progress:{},currentAbcFragment:"(none)",tune:"X:1\nT:Phrase Editor\nM:4/4\nL:1/8\nQ:100\nK:C\n",allrefdata:[],refloc:0,old_creation:[],lastelem:"",lastscore:"",const_info:[],old_const:[],editStart:NaN,editEnd:NaN}},watch:{abcdata:function(){document.getElementById("abc-source").value=this.abcdata,new p.a.Editor("abc-source",{paper_id:"paper",staffwidth:740,generate_midi:!0,midi_id:"midi",midi_download_id:"midi-download",abcjsParams:{generateDownload:!0,clickListener:this.selectionCallback,midiListener:this.listener,animate:{listener:this.animate}}})},editingdata:function(){document.getElementById("abc-phrase").value=this.editingdata,new p.a.Editor("abc-phrase",{paper_id:"paper-phrase",staffwidth:740,generate_midi:!0,midi_id:"midi-phrase",midi_download_id:"midi-download-phrase",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})},creationdata:function(){document.getElementById("abc-creation").value=this.creationdata,new p.a.Editor("abc-creation",{paper_id:"paper-creation",staffwidth:740,generate_midi:!0,midi_id:"midi-creation",midi_download_id:"midi-download-creation",abcjsParams:{generateDownload:!0,midiListener:this.listener,animate:{listener:this.animate}}})},const_info:function(){document.getElementById("component").innerHTML=u()(this.const_info)}},methods:{listener:function(t,e){this.progress=e},colorRange:function(t,e){t&&t.elements&&t.elements.forEach(function(t){t.forEach(function(t){t.setAttribute("fill",e)})})},animate:function(t,e){this.colorRange(t,"#000000"),this.colorRange(e,"#3D9AFC")},selectionCallback:function(t){var e=this;return h()(f.a.mark(function n(){var a,i,r,s,o;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.elemContinuty(t);case 2:if(!(n.sent>0)){n.next=21;break}return e.soundClick(),e.editEnd=t.endChar,a=document.getElementById("abc-source").value,i=a.slice(t.startChar,t.endChar),n.next=10,e.get_info(a,t.startChar);case 10:return r=n.sent,s=document.getElementById("abc-phrase").value,n.next=14,e.get_info(s,s.length);case 14:return o=n.sent,n.next=17,e.phrase_set_info(r,o);case 17:e.editingdata=document.getElementById("abc-phrase").value+i,document.getElementById("editing-alert").innerHTML="<em>Success</em>",n.next=23;break;case 21:e.soundFailed(),document.getElementById("editing-alert").innerHTML="Failed<br>Please select a consecutive note.";case 23:case"end":return n.stop()}},n,e)}))()},get_info:function(t,e){function n(t){return t.slice(0,t.search(/[\n\]]/))}var a=new d.a,i=t.slice(0,e),r=i.slice(i.lastIndexOf("M:"));a.set("M",n(r));var s=i.slice(i.lastIndexOf("L:"));a.set("L",n(s));var o=i.slice(i.lastIndexOf("Q:"));a.set("Q",n(o));var c=i.slice(i.lastIndexOf("K:"));a.set("K",n(c));var l=i.slice(i.lastIndexOf("T:"));return a.set("T",n(l)),a},phrase_set_info:function(t,e){var n=document.getElementById("abc-phrase").value;if(n.lastIndexOf("\n")!==n.length-1){var a=!0,i=!1,s=void 0;try{for(var c,d=r()(t);!(a=(c=d.next()).done);a=!0){var l=c.value,u=o()(l,2),m=u[0],f=u[1];"T"!==m&&f!==e.get(m)&&(document.getElementById("abc-phrase").value+="["+t.get(m)+"]")}}catch(t){i=!0,s=t}finally{try{!a&&d.return&&d.return()}finally{if(i)throw s}}}else{var v=!0,h=!1,_=void 0;try{for(var p,g=r()(t);!(v=(p=g.next()).done);v=!0){var b=p.value,y=o()(b,2);m=y[0],f=y[1];"T"!==m&&f!==e.get(m)&&(document.getElementById("abc-phrase").value=document.getElementById("abc-phrase").value.replace(e.get(m),f))}}catch(t){h=!0,_=t}finally{try{!v&&g.return&&g.return()}finally{if(h)throw _}}}},clear_phrase:function(){this.soundClear(),this.editingdata=this.tune,this.lastelem="",this.lastscore="",this.editStart=NaN,this.editEnd=NaN},regist_phrase:function(){var t=this;return h()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("abc-phrase").value===t.tune){e.next=11;break}return t.soundAdd(),t.old_creation.push(t.creationdata),t.old_const.push(t.const_info),e.next=6,t.concatenation();case 6:t.clear_phrase(),t.editStart=NaN,t.editEnd=NaN,e.next=12;break;case 11:t.soundFailed();case 12:case"end":return e.stop()}},e,t)}))()},clear_creation:function(){this.soundClear(),this.creationdata="",this.const_info=[]},undo_creation:function(){this.soundUndo(),this.old_creation.length>0&&(this.creationdata=this.old_creation.pop(),this.const_info=this.old_const.pop())},concatenation:function(){var t=this;return h()(f.a.mark(function e(){var n,a,i,r,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("abc-phrase").value,a=document.getElementById("abc-creation").value,e.next=4,t.get_info(n,n.indexOf("["));case 4:return i=e.sent,e.next=7,t.get_info(a,a.length);case 7:if(r=e.sent,""!==a&&a.lastIndexOf(r.get("K"))+r.get("K").length+1!==a.length){e.next=12;break}t.creationdata=n.replace(i.get("T"),"T:Music"),e.next=15;break;case 12:return e.next=14,t.creation_set_info(i,r);case 14:t.creationdata=document.getElementById("abc-creation").value+n.slice(n.indexOf(i.get("K"))+i.get("K").length+1);case 15:(s=new Object).score=t.lastscore,s.start=t.editStart,s.end=t.editEnd,document.getElementById("workarea").value=t.allrefdata[s.score],s.str=document.getElementById("workarea").value.slice(s.start,s.end),console.log(s),t.const_info.push(s);case 23:case"end":return e.stop()}},e,t)}))()},creation_set_info:function(t,e){var n=!0,a=!1,i=void 0;try{for(var s,c=r()(t);!(n=(s=c.next()).done);n=!0){var d=s.value,l=o()(d,2),u=l[0],m=l[1];"T"!==u&&m!==e.get(u)&&(document.getElementById("abc-creation").value+="["+t.get(u)+"]")}}catch(t){a=!0,i=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw i}}},leftbutton:function(){this.soundButton(),0===this.refloc?this.refloc=this.allrefdata.length-1:this.refloc--,this.abcdata=this.allrefdata[this.refloc]},rightbutton:function(){this.soundButton(),this.refloc===this.allrefdata.length-1?this.refloc=0:this.refloc++,this.abcdata=this.allrefdata[this.refloc]},elemContinuty:function(t){var e=this;return h()(f.a.mark(function n(){var a,i;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=function(){var n=document.getElementById("abc-source").value.slice(e.lastelem,t.startChar);return n.slice(n.search("]")+1,n.length).search(/([A-Za-z])/)},""===e.lastelem||!(e.lastscore!==e.refloc||e.lastelem>t.startChar)){n.next=5;break}return n.abrupt("return",-1);case 5:if(""===e.lastelem){n.next=14;break}return n.next=8,a();case 8:return-1===(i=n.sent)&&(e.lastelem=t.endChar,e.lastscore=e.refloc),0===i&&i++,n.abrupt("return",-1*i);case 14:return e.lastelem=t.endChar,e.lastscore=e.refloc,e.editStart=t.startChar,n.abrupt("return",1);case 18:case"end":return n.stop()}},n,e)}))()},soundClick:function(){var t="sound-file-click";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundClear:function(){var t="sound-file-clear";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundAdd:function(){var t="sound-file-add";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundUndo:function(){var t="sound-file-undo";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundButton:function(){var t="sound-file-button";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()},soundFailed:function(){var t="sound-file-failed";void 0!==document.getElementById(t).currentTime&&(document.getElementById(t).currentTime=0),document.getElementById(t).play()}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"musiccreater"},[n("textarea",{attrs:{id:"abc-source"}}),t._v(" "),n("textarea",{attrs:{id:"abc-phrase"}}),t._v(" "),n("textarea",{attrs:{id:"abc-creation"}}),t._v(" "),n("textarea",{attrs:{id:"workarea"}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("h1",{staticClass:"text-center",staticStyle:{"font-weight":"bolder"}},[t._v("\n      Music Creator\n    ")]),t._v(" "),t._m(6),t._v(" "),n("div",{attrs:{id:"play-info"}},[n("div",{staticClass:"listener-output"},[n("div",{staticClass:"label"},[t._v("Currently Playing: "),n("span",{staticClass:"abc-string"},[t._v(t._s(t.currentAbcFragment))])]),t._v(" "),n("div",{staticClass:"label"},[t._v("Parameters sent to listener callback: ")]),t._v(" "),n("div",[t._v("Progress: "+t._s(t.progress.progress))]),t._v(" "),n("div",[t._v("Current Time: "+t._s(t.progress.currentTime))]),t._v(" "),n("div",[t._v("Total Duration: "+t._s(t.progress.duration))]),t._v(" "),n("div",[t._v("New Beat? "+t._s(t.progress.newBeat))])])]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"refer-abc"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Score Viewer\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"direction",on:{click:t.leftbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),t._v(" "),n("button",{staticClass:"direction",on:{click:t.rightbutton}},[n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)]),t._v(" "),t._m(7),t._v(" "),n("div",{attrs:{id:"midi"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download"}})]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"editing"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Phrase Editor\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"modifier",on:{click:t.clear_phrase}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),t._v(" clear\n        ")],1),t._v(" "),n("button",{staticClass:"modifier",on:{click:t.regist_phrase}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" add\n        ")],1),t._v(" "),n("div",{staticClass:"note",attrs:{id:"editing-alert"}})]),t._v(" "),t._m(8),t._v(" "),n("div",{attrs:{id:"midi-phrase"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download-phrase"}})]),t._v(" "),n("div",{staticClass:"text-center",attrs:{id:"creation"}},[n("h4",{staticClass:"text-left"},[t._v("\n        Music\n      ")]),t._v(" "),n("div",{staticClass:"text-left"},[n("button",{staticClass:"modifier",on:{click:t.clear_creation}},[n("font-awesome-icon",{attrs:{icon:"minus"}}),t._v(" clear\n        ")],1),t._v(" "),n("button",{staticClass:"modifier",on:{click:t.undo_creation}},[n("font-awesome-icon",{attrs:{icon:"undo"}}),t._v(" undo\n        ")],1)]),t._v(" "),t._m(9),t._v(" "),n("div",{attrs:{id:"midi-creation"}}),t._v(" "),n("div",{staticClass:"text-left",attrs:{id:"midi-download-creation"}})]),t._v(" "),t._m(10)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-click",preload:"auto"}},[e("source",{attrs:{src:"static/sound/click/nc112322.wav",type:"audio/wav"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-clear",preload:"auto"}},[e("source",{attrs:{src:"static/sound/clear/nc78407.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-add",preload:"auto"}},[e("source",{attrs:{src:"static/sound/add/nc44409.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-undo",preload:"auto"}},[e("source",{attrs:{src:"static/sound/undo/nc78408.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-button",preload:"auto"}},[e("source",{attrs:{src:"static/sound/button/nc167288.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"sound-file-failed",preload:"auto"}},[e("source",{attrs:{src:"static/sound/failed/nc45878.mp3",type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center h3"},[e("br"),this._v(" Please select consecutive notes on scores to make a new score.\n      "),e("br"),this._v(' Push "Add" button to add "Phrase Editor" to your "Music". \n    ')])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scorecontainer"},[e("div",{attrs:{id:"paper"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scorecontainer"},[e("div",{attrs:{id:"paper-phrase"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"music"},[e("div",{attrs:{id:"paper-creation"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("Components:")]),this._v(" "),e("p",{attrs:{id:"component"}})])}]};var y={name:"App",components:{HelloWorld:n("VU/8")(g,b,!1,function(t){n("XMKj")},null,null).exports}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},staticRenderFns:[]};var x=n("VU/8")(y,E,!1,function(t){n("jIfA")},null,null).exports,C=n("C/JF"),w=n("fhbW"),I=n("1e6/");C.c.add(w.d,w.c,w.e,w.b,w.a),a.a.component("font-awesome-icon",I.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:x},template:"<App/>"})},XMKj:function(t,e){},jIfA:function(t,e){},xDrO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fab0be31760e0a93bb5c.js.map